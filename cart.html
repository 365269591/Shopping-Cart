<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
        <title>JavaScript</title>
		<style>
			table{border-collapse:collapse;}
			td{border:1px solid;}
		</style>

    </head>
    <body>
		<table id="tab">
			<tr><td>序号</td><td>商品名称</td><td>商品单价</td><td>数量</td></tr>
		</table>
    </body>
    <script>
    	//alert(document.cookie);
    	/*
    	 * 'product_3={"id":3,"name":"手机","price":1999,"num":1}; product_2={"id":2,"name":"电脑","price":4999,"num":3}; product_1={"id":1,"name":"水杯","price":29,"num":2}'
    	 */
    	//切割cookie字符串
    	//['product_3={"id":3,"name":"手机","price":1999,"num":1}','product_2={"id":2,"name":"电脑","price":4999,"num":3}','product_1={"id":1,"name":"水杯","price":29,"num":2}']
    	var cookie = document.cookie.split("; ");
    	for(var i = 0;i < cookie.length;i ++){
    		/*
    		 * [
    		 * 		['product_3','{"id":3,"name":"手机","price":1999,"num":1}'],
    		 * 		['product_2','{"id":2,"name":"电脑","price":4999,"num":3}'],
    		 * 		['product_1','{"id":1,"name":"水杯","price":29,"num":2}']
    		 * ]
    		 */
    		var keyValue = cookie[i].split("=");
    		if(keyValue[0].indexOf("product_") == 0){
    			//json = {"id":3,"name":"手机","price":1999,"num":1};
    			var json = eval("(" + keyValue[1] + ")");
    			//插入行
    			var _tr = document.getElementById("tab").insertRow();
    			//插入单元格
    			var _td = _tr.insertCell();
    			_td.innerHTML = json.id;
    			_td = _tr.insertCell();
    			_td.innerHTML = json.name;
    			_td = _tr.insertCell();
    			_td.innerHTML = json.price;
    			_td = _tr.insertCell();
    			_td.innerHTML = json.num;
    		}
    	}
    </script>
</html>